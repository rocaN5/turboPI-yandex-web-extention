const tpiIcon__ymLogo = `
    <svg fill="currentcolor" height="100%" viewBox="0 0 32 32" width="100%" xmlns="http://www.w3.org/2000/svg">
        <path class="shape" clip-rule="evenodd" d="M29.384 24.771C26.524 29.125 21.598 32 16 32a15.946 15.946 0 01-11.091-4.468l8.639-13.242-2.535 10.616 6.432.772 5.342-6.534-1.556 6.536.011-.003-.01.009zm2.146-4.905c.307-1.238.47-2.533.47-3.866 0-8.837-7.163-16-16-16S0 7.163 0 16c0 1.771.288 3.476.82 5.068L12.611 2.802 20.4 7.3l-2.21 9.317 5.835-7.242 5.495 3.186-1.841 8.031z" stroke-width=".861"></path>
    </svg>
`,
tpiIcon__quickLots = `
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512">
        <path d="M64 0C28.7 0 0 28.7 0 64L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-288-128 0c-17.7 0-32-14.3-32-32L224 0 64 0zM256 0l0 128 128 0L256 0zM80 64l64 0c8.8 0 16 7.2 16 16s-7.2 16-16 16L80 96c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 64l64 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-64 0c-8.8 0-16-7.2-16-16s7.2-16 16-16zm16 96l192 0c17.7 0 32 14.3 32 32l0 64c0 17.7-14.3 32-32 32L96 352c-17.7 0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32zm0 32l0 64 192 0 0-64L96 256zM240 416l64 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-64 0c-8.8 0-16-7.2-16-16s7.2-16 16-16z"></path>
    </svg>
`,
tpiIcon__strokesToOreders = `
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
        <path d="M24 56c0-13.3 10.7-24 24-24l32 0c13.3 0 24 10.7 24 24l0 120 16 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-80 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l16 0 0-96-8 0C34.7 80 24 69.3 24 56zM86.7 341.2c-6.5-7.4-18.3-6.9-24 1.2L51.5 357.9c-7.7 10.8-22.7 13.3-33.5 5.6s-13.3-22.7-5.6-33.5l11.1-15.6c23.7-33.2 72.3-35.6 99.2-4.9c21.3 24.4 20.8 60.9-1.1 84.7L86.8 432l33.2 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-88 0c-9.5 0-18.2-5.6-22-14.4s-2.1-18.9 4.3-25.9l72-78c5.3-5.8 5.4-14.6 .3-20.5zM224 64l256 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-256 0c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 160l256 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-256 0c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 160l256 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-256 0c-17.7 0-32-14.3-32-32s14.3-32 32-32z"></path>
    </svg>
`,
tpiIcon__grouppingHistory = `
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
        <path transform="translate(-3, -3) scale(0.025)" d="M349.5 115.7C344.6 103.8 332.9 96 320 96C307.1 96 295.4 103.8 290.5 115.7C197.2 339.7 143.8 467.7 130.5 499.7C123.7 516 131.4 534.7 147.7 541.5C164 548.3 182.7 540.6 189.5 524.3L221.3 448L418.6 448L450.4 524.3C457.2 540.6 475.9 548.3 492.2 541.5C508.5 534.7 516.2 516 509.4 499.7C496.1 467.7 442.7 339.7 349.4 115.7zM392 384L248 384L320 211.2L392 384z" fill="currentcolor"></path>
        <path transform="translate(10, -3) scale(0.025)" d="M192 96C174.3 96 160 110.3 160 128L160 512C160 529.7 174.3 544 192 544L352 544C422.7 544 480 486.7 480 416C480 369.5 455.2 328.7 418 306.3C436.7 284 448 255.3 448 224C448 153.3 390.7 96 320 96L192 96zM320 288L224 288L224 160L320 160C355.3 160 384 188.7 384 224C384 259.3 355.3 288 320 288zM224 352L352 352C387.3 352 416 380.7 416 416C416 451.3 387.3 480 352 480L224 480L224 352z" fill="currentcolor"></path>
        <path transform="translate(-3, 10) scale(0.025)" d="M457.1 206.9C394.6 144.4 301.3 144.4 238.8 206.9C176.3 269.4 176.3 370.7 238.8 433.2C301.3 495.7 394.6 495.7 457.1 433.2C469.6 420.7 489.9 420.7 502.4 433.2C514.9 445.7 514.9 466 502.4 478.5C414.9 566 281.1 566 193.6 478.5C106.1 391 106.1 249.2 193.6 161.7C281.1 74.2 414.9 74.2 502.4 161.7C514.9 174.2 514.9 194.5 502.4 207C489.9 219.5 469.6 219.5 457.1 207z" fill="currentcolor"></path>
        <path transform="translate(11, 10) scale(0.025)" d="M128 128C128 110.3 142.3 96 160 96L288 96C411.7 96 512 196.3 512 320C512 443.7 411.7 544 288 544L160 544C142.3 544 128 529.7 128 512L128 128zM192 160L192 480L288 480C376.4 480 448 408.4 448 320C448 231.6 376.4 160 288 160L192 160z" fill="currentcolor"></path>
    </svg>
`,
tpiIcon__inboundsFile = `
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
        <path fill-rule="evenodd" clip-rule="evenodd" d="M5 3C6.30622 3 7.41746 3.83481 7.82929 5H10C12.2091 5 14 6.79086 14 9C14 11.2091 12.2091 13 10 13H7C5.34315 13 4 14.3431 4 16C4 17.6569 5.34315 19 7 19H13L15 21H7C4.23858 21 2 18.7614 2 16C2 13.2386 4.23858 11 7 11H10C11.1046 11 12 10.1046 12 9C12 7.89543 11.1046 7 10 7H7.82929C7.41746 8.16519 6.30622 9 5 9C3.34315 9 2 7.65685 2 6C2 4.34315 3.34315 3 5 3Z"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M17.5608 20.9961H18.4484C18.7487 20.192 19.5015 19.5618 20.1257 19.0568C20.3933 18.8404 20.6413 18.6397 20.8273 18.4502C21.3871 17.8811 21.7684 17.1554 21.9229 16.3652C22.0775 15.5751 21.9984 14.7559 21.6956 14.0116C21.3928 13.2673 20.88 12.6313 20.2221 12.1841C19.5642 11.737 18.7908 11.4989 18 11.5C17.2092 11.4989 16.4358 11.737 15.7779 12.1841C15.12 12.6313 14.6072 13.2673 14.3044 14.0116C14.0016 14.7559 13.9225 15.5751 14.0771 16.3652C14.2316 17.1554 14.6129 17.8811 15.1727 18.4502C15.359 18.6412 15.6088 18.8435 15.8786 19.0619C16.5011 19.5658 17.2566 20.2524 17.5608 20.9961Z"></path>
    </svg>
`,
tpiIcon__ecperemental = `
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
  <path d="M 235.55271565495207 46.61980830670927 L 130.8626198083067 46.61980830670927 L 235.55271565495207 46.61980830670927 L 104.69009584664536 46.61980830670927 Q 93.23961661341853 46.61980830670927 85.87859424920129 53.980830670926515 Q 78.51757188498402 61.34185303514377 78.51757188498402 72.7923322683706 Q 78.51757188498402 84.24281150159744 85.87859424920129 91.60383386581469 Q 93.23961661341853 98.96485623003196 104.69009584664536 98.96485623003196 L 104.69009584664536 207.7444089456869 L 104.69009584664536 207.7444089456869 Q 104.69009584664536 222.4664536741214 97.32907348242811 234.73482428115017 L 8.178913738019169 378.68370607028754 L 8.178913738019169 378.68370607028754 Q 0 392.5878594249201 0 408.9456869009585 Q 0.8178913738019169 432.6645367412141 16.357827476038338 449.0223642172524 Q 32.715654952076676 464.5623003194888 56.43450479233227 465.3801916932907 L 309.98083067092654 465.3801916932907 L 309.98083067092654 465.3801916932907 Q 323.0670926517572 465.3801916932907 333.6996805111821 459.6549520766773 Q 330.4281150159744 452.29392971246006 330.4281150159744 444.1150159744409 L 330.4281150159744 443.297124600639 L 330.4281150159744 443.297124600639 Q 318.9776357827476 449.0223642172524 306.7092651757188 447.38658146964855 Q 293.62300319488816 446.56869009584665 283.8083067092652 435.93610223642173 Q 272.3578274760383 423.66773162939296 264.17891373801916 408.9456869009585 Q 255.18210862619807 394.22364217252397 250.2747603833866 377.86581469648564 Q 246.18530351437698 364.779552715655 251.0926517571885 353.3290734824281 Q 256 341.0607028753994 266.6325878594249 334.517571884984 L 266.6325878594249 334.517571884984 L 266.6325878594249 334.517571884984 L 97.32907348242811 334.517571884984 L 97.32907348242811 334.517571884984 L 141.49520766773162 262.54313099041536 L 141.49520766773162 262.54313099041536 Q 157.03514376996804 237.18849840255592 157.03514376996804 207.7444089456869 L 157.03514376996804 98.96485623003196 L 157.03514376996804 98.96485623003196 L 209.38019169329073 98.96485623003196 L 209.38019169329073 98.96485623003196 L 209.38019169329073 207.7444089456869 L 209.38019169329073 207.7444089456869 Q 209.38019169329073 237.18849840255592 224.92012779552715 262.54313099041536 L 248.63897763578274 300.9840255591054 L 248.63897763578274 300.9840255591054 Q 248.63897763578274 296.0766773162939 250.2747603833866 291.1693290734824 Q 255.18210862619807 274.8115015974441 263.36102236421726 260.0894568690096 Q 269.08626198083067 251.91054313099042 274.8115015974441 243.73162939297126 L 269.90415335463257 234.73482428115017 L 269.90415335463257 234.73482428115017 Q 261.7252396166134 222.4664536741214 261.7252396166134 207.7444089456869 L 261.7252396166134 98.96485623003196 L 261.7252396166134 98.96485623003196 Q 273.1757188498403 98.96485623003196 280.5367412140575 91.60383386581469 Q 287.89776357827475 84.24281150159744 287.89776357827475 72.7923322683706 Q 287.89776357827475 61.34185303514377 280.5367412140575 53.980830670926515 Q 273.1757188498403 46.61980830670927 261.7252396166134 46.61980830670927 L 235.55271565495207 46.61980830670927 L 235.55271565495207 46.61980830670927 Z M 356.6006389776358 224.92012779552715 L 356.6006389776358 239.64217252396165 L 356.6006389776358 224.92012779552715 L 356.6006389776358 239.64217252396165 Q 355.78274760383385 249.45686900958466 346.7859424920128 254.36421725239617 Q 337.7891373801917 260.0894568690096 328.7923322683706 255.18210862619807 L 318.1597444089457 248.63897763578274 L 318.1597444089457 248.63897763578274 Q 309.1629392971246 244.54952076677316 302.6198083067093 251.0926517571885 Q 293.62300319488816 260.9073482428115 286.26198083067095 273.1757188498403 Q 278.9009584664537 285.444089456869 275.62939297124603 298.53035143769966 Q 273.1757188498403 307.5271565495208 281.35463258785944 312.4345047923323 L 292.80511182108626 318.9776357827476 L 292.80511182108626 318.9776357827476 Q 300.9840255591054 324.702875399361 300.9840255591054 334.517571884984 Q 300.9840255591054 344.33226837060704 292.80511182108626 349.23961661341855 L 281.35463258785944 356.6006389776358 L 281.35463258785944 356.6006389776358 Q 273.1757188498403 361.50798722044726 275.62939297124603 370.5047923322684 Q 279.7188498402556 383.59105431309905 286.26198083067095 395.8594249201278 Q 293.62300319488816 408.12779552715654 302.6198083067093 417.94249201277955 Q 309.98083067092654 424.48562300319486 318.1597444089457 419.5782747603834 L 328.7923322683706 413.85303514376994 L 328.7923322683706 413.85303514376994 Q 337.7891373801917 408.9456869009585 346.7859424920128 413.85303514376994 Q 355.78274760383385 419.5782747603834 356.6006389776358 429.39297124600637 L 356.6006389776358 443.297124600639 L 356.6006389776358 443.297124600639 Q 356.6006389776358 453.11182108626195 365.59744408945687 455.5654952076677 Q 378.68370607028754 458.8370607028754 392.5878594249201 458.8370607028754 Q 406.49201277955274 458.8370607028754 419.5782747603834 455.5654952076677 Q 427.75718849840257 453.11182108626195 428.57507987220447 443.297124600639 L 428.57507987220447 429.39297124600637 L 428.57507987220447 429.39297124600637 Q 429.39297124600637 418.76038338658145 437.5718849840256 413.85303514376994 Q 446.56869009584665 408.9456869009585 455.5654952076677 413.03514376996804 L 467.0159744408946 419.5782747603834 L 467.0159744408946 419.5782747603834 Q 475.19488817891374 423.66773162939296 482.555910543131 417.94249201277955 Q 491.55271565495207 408.12779552715654 498.91373801916933 395.04153354632587 Q 505.45686900958464 382.77316293929715 509.54632587859425 369.6869009584665 Q 512 361.50798722044726 503.82108626198084 355.78274760383385 L 492.37060702875397 349.23961661341855 L 492.37060702875397 349.23961661341855 Q 484.1916932907348 344.33226837060704 484.1916932907348 334.517571884984 Q 484.1916932907348 324.702875399361 492.37060702875397 318.9776357827476 L 503.82108626198084 312.4345047923323 L 503.82108626198084 312.4345047923323 Q 512 307.5271565495208 509.54632587859425 298.53035143769966 Q 505.45686900958464 285.444089456869 498.91373801916933 273.1757188498403 Q 491.55271565495207 260.9073482428115 482.555910543131 250.2747603833866 Q 475.19488817891374 244.54952076677316 467.0159744408946 248.63897763578274 L 455.5654952076677 255.18210862619807 L 455.5654952076677 255.18210862619807 Q 446.56869009584665 260.0894568690096 437.5718849840256 254.36421725239617 Q 429.39297124600637 249.45686900958466 428.57507987220447 239.64217252396165 L 428.57507987220447 224.92012779552715 L 428.57507987220447 224.92012779552715 Q 427.75718849840257 215.92332268370606 419.5782747603834 212.6517571884984 Q 406.49201277955274 210.19808306709265 392.5878594249201 210.19808306709265 Q 378.68370607028754 210.19808306709265 365.59744408945687 212.6517571884984 Q 356.6006389776358 215.92332268370606 356.6006389776358 224.92012779552715 L 356.6006389776358 224.92012779552715 Z M 353.3290734824281 334.517571884984 Q 353.3290734824281 311.61661341853033 372.1405750798722 298.53035143769966 Q 392.5878594249201 287.89776357827475 413.03514376996804 298.53035143769966 Q 431.8466453674121 311.61661341853033 431.8466453674121 334.517571884984 Q 431.8466453674121 357.4185303514377 413.03514376996804 369.6869009584665 Q 392.5878594249201 381.1373801916933 372.1405750798722 369.6869009584665 Q 353.3290734824281 357.4185303514377 353.3290734824281 334.517571884984 L 353.3290734824281 334.517571884984 Z"/>
</svg>
`,
tpiIcon__gears = `
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640">
    <path d="M415.9 274.5C428.1 271.2 440.9 277 446.4 288.3L465 325.9C475.3 327.3 485.4 330.1 494.9 334L529.9 310.7C540.4 303.7 554.3 305.1 563.2 314L582.4 333.2C591.3 342.1 592.7 356.1 585.7 366.5L562.4 401.4C564.3 406.1 566 411 567.4 416.1C568.8 421.2 569.7 426.2 570.4 431.3L608.1 449.9C619.4 455.5 625.2 468.3 621.9 480.4L614.9 506.6C611.6 518.7 600.3 526.9 587.7 526.1L545.7 523.4C539.4 531.5 532.1 539 523.8 545.4L526.5 587.3C527.3 599.9 519.1 611.3 507 614.5L480.8 621.5C468.6 624.8 455.9 619 450.3 607.7L431.7 570.1C421.4 568.7 411.3 565.9 401.8 562L366.8 585.3C356.3 592.3 342.4 590.9 333.5 582L314.3 562.8C305.4 553.9 304 540 311 529.5L334.3 494.5C332.4 489.8 330.7 484.9 329.3 479.8C327.9 474.7 327 469.6 326.3 464.6L288.6 446C277.3 440.4 271.6 427.6 274.8 415.5L281.8 389.3C285.1 377.2 296.4 369 309 369.8L350.9 372.5C357.2 364.4 364.5 356.9 372.8 350.5L370.1 308.7C369.3 296.1 377.5 284.7 389.6 281.5L415.8 274.5zM448.4 404C424.1 404 404.4 423.7 404.5 448.1C404.5 472.4 424.2 492 448.5 492C472.8 492 492.5 472.3 492.5 448C492.4 423.6 472.7 404 448.4 404zM224.9 18.5L251.1 25.5C263.2 28.8 271.4 40.2 270.6 52.7L267.9 94.5C276.2 100.9 283.5 108.3 289.8 116.5L331.8 113.8C344.3 113 355.7 121.2 359 133.3L366 159.5C369.2 171.6 363.5 184.4 352.2 190L314.5 208.6C313.8 213.7 312.8 218.8 311.5 223.8C310.2 228.8 308.4 233.8 306.5 238.5L329.8 273.5C336.8 284 335.4 297.9 326.5 306.8L307.3 326C298.4 334.9 284.5 336.3 274 329.3L239 306C229.5 309.9 219.4 312.7 209.1 314.1L190.5 351.7C184.9 363 172.1 368.7 160 365.5L133.8 358.5C121.6 355.2 113.5 343.8 114.3 331.3L117 289.4C108.7 283 101.4 275.6 95.1 267.4L53.1 270.1C40.6 270.9 29.2 262.7 25.9 250.6L18.9 224.4C15.7 212.3 21.4 199.5 32.7 193.9L70.4 175.3C71.1 170.2 72.1 165.2 73.4 160.1C74.8 155 76.4 150.1 78.4 145.4L55.1 110.5C48.1 100 49.5 86.1 58.4 77.2L77.6 58C86.5 49.1 100.4 47.7 110.9 54.7L145.9 78C155.4 74.1 165.5 71.3 175.8 69.9L194.4 32.3C200 21 212.7 15.3 224.9 18.5zM192.4 148C168.1 148 148.4 167.7 148.4 192C148.4 216.3 168.1 236 192.4 236C216.7 236 236.4 216.3 236.4 192C236.4 167.7 216.7 148 192.4 148z"/>
</svg>
`

function checkiIs__onSettingsPage() {
    'use strict';

    // Функция проверки URL
    function isSettingsPage(url) {
        const base = 'https://logistics.market.yandex.ru/sorting-center/21972131/orders/tpi-settings?tpiSettings=true';
        if (!url.startsWith(base)) return false;
        
        const params = new URLSearchParams(url.split('?')[1] || '');
        return params.get('tpiSettings') === 'true' 
    }

    // Функция добавления блока (и отключения наблюдателя)
    function addTurboBlock() {
        if (document.querySelector('.tpi-settings--wrapper')) return;

        document.title = "Настройки • turboPI"

        const overlay = document.createElement('div');
        overlay.className = 'tpi-settings--wrapper';

        overlay.innerHTML = 
        `
        <div class="tpi-settings--wrapper-title">
            Настройки расширения
        </div>
        <div class="tpi-settings--content-block">
            <div class="tpi-settings--controls-panel">
                <div class="tpi-settings--controls-wrapper">
                    <div class="tpi-settings--controls-wrapper-title">
                        <p>Категории настроек</p>
                    </div>
                    <nav class="tpi-settings--navbar-options">
                        <button class="tpi-settings--option-button"tpi-seetings-option="general" tpi-current-state="selected" >
                            <i class="tpi-settings--option-icon">
                                ${tpiIcon__ymLogo}
                            </i>
                            <p class="tpi-settings--option-text">Общие настройки ПИ</p>
                        </button>
                        <div class="tpi-settings--option-devider"></div>
                        <button class="tpi-settings--option-button"tpi-seetings-option="quickLots">
                            <i class="tpi-settings--option-icon">
                                ${tpiIcon__quickLots}
                            </i>
                            <p class="tpi-settings--option-text">Быстрые лоты</p>
                        </button>
                        <button class="tpi-settings--option-button"tpi-seetings-option="strokesToOreders">
                            <i class="tpi-settings--option-icon">
                                ${tpiIcon__strokesToOreders}
                            </i>
                            <p class="tpi-settings--option-text">Строки в заказы</p>
                        </button>
                        <button class="tpi-settings--option-button"tpi-seetings-option="groupHistory">
                            <i class="tpi-settings--option-icon">
                                ${tpiIcon__grouppingHistory}
                            </i>
                            <p class="tpi-settings--option-text">История группировок</p>
                        </button>
                        <button class="tpi-settings--option-button"tpi-seetings-option="inboundsFile">
                            <i class="tpi-settings--option-icon">
                                ${tpiIcon__inboundsFile}
                            </i>
                            <p class="tpi-settings--option-text">Файл поставок</p>
                        </button>
                        <button class="tpi-settings--option-button"tpi-seetings-option="experemental">
                            <i class="tpi-settings--option-icon">
                                ${tpiIcon__ecperemental}
                            </i>
                            <p class="tpi-settings--option-text">Эксперементальные</p>
                        </button>
                    </nav>
                </div>
                <div class="tpi-settings--data-controls-wrapper">
                    <div class="tpi-settings--controls-wrapper-title">
                        <p>Опции</p>
                    </div>
                    <div class="tpi-settings--items-wrapper">
                        <div class="tpi-settings--option-wrapper">
                            <div class="tpi-settings--option-title">
                                <i class="tpi-settings--option-title-icon">${tpiIcon__gears}</i>
                                <p class="tpi-settings--option-title-text">Закрепить верхнюю панель</p>
                            </div>
                            <div class="tpi-settings--option-label-wrapper">
                                <label class="tpi-settings--option-label" for="tpiOption_general_fixHeader">
                                    <input type="checkbox" id="tpiOption_general_fixHeader">
                                    <div class="tpi-settings--checkbox-wrapper">
                                        <div class="tpi-settings--checkbox-body">
                                            <div class="tpi-settings--checkbox-body-dot"></div>
                                        </div>
                                        <p class="tpi-settings--checkbox-text">Шапка не зафиксированна</p>
                                    </div>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        `
        
        const appID = document.getElementById("app")
        const headerTitle = document.querySelector(".p-layout__header-wrapper")
        appID.remove()
        headerTitle.remove()

        document.querySelector(".p-layout__content").appendChild(overlay);
        
        callTurboPI__once();
        addTurboPiTitle()
        if (observer) {
            observer.disconnect();
            observer = null;
        }
    }


    if (isSettingsPage(location.href)) {
        addTurboBlock();
        addSettingsListeners();
        addToastContainer()
        setTimeout(() => {
            tpiNotification.show('Страница "Настройки расширения" интегрированна', "info", `Для получения подробной информации о пользовании инструменом, посетите Wiki TURBOpi`);
        }, 1);
        return; 
    }

    observer = new MutationObserver(() => {
        if (isSettingsPage(location.href)) {
            addTurboBlock();
        }
    });
    observer.observe(document, { subtree: true, childList: true });
    setTimeout(() => {
        addTurboPiTitle()
    }, 1);
}

checkiIs__onSettingsPage()

function addSettingsListeners(){
    changeSettongsOption()
}

function changeSettongsOption(){
    const allButtons = document.querySelectorAll('.tpi-settings--option-button');
    allButtons.forEach(button => {
        button.addEventListener('click', () => {
            allButtons.forEach(btn => {
                btn.removeAttribute('tpi-current-state');
            });
            button.setAttribute('tpi-current-state', 'selected');
        });
    });
}